# 引入serverless的原因

## 为什么要引入Serverless?

## 一、IT系统资源应用及

### 1.1 资源应用演进过程

#### 1.1.1 物理机

<figure><img src="../../.gitbook/assets/image (40).png" alt=""><figcaption><p>物理机，就是我们能够看得见摸得着的物理设备</p></figcaption></figure>

对于开发者来说，如果想使用物理机是非常麻烦的，早期的物理机部署应用步骤如下：

1）把物理机托管到机房

2）连接电源和网络

3）安装操作系统

4）部署应用运行环境

5）为主机申请静态IP地址及域名备案

6）部署FTP类软件用于上传所开发的程序

所以对于开发人员来说，部署比较繁琐，维护困难，需要专业的运维人员参与，而且一台配置较高的物理机，如果只运行单一应用程序，用不了太多的资源，会导致物理机资源浪费。

#### 1.1.2 虚拟机

<figure><img src="../../.gitbook/assets/image (41).png" alt=""><figcaption></figcaption></figure>

为了防止物理机资源被大量浪费，我们可以把物理机分隔为虚拟机给开发人员使用，虚拟机所起到的作用主要为打包物理机计算资源（CPU、Memory、硬盘、网络），开发人员仅需要使用适当的资源即可，物理机交给专业的运维人员负责即可，在云时代甚至可以直接购买云厂商的云主机（虚拟机），物理机运维交由云厂商负责维护。

随着软件架构的发展，应用程序对于计算机系统资源的需求不再是单一不可选择的方式提供了，完全可以独立开发了，例如：应用程序与数据库分开，这样开发人员仅需要关注于业务代码的开发，而不需要再对数据库进行维护，这样应用程序与后端数据存储就实现了松耦合。

当应用程序与后端数据存储分开部署后，我们也是希望保证我们的系统能够正确运行，当应用程序对计算资源需求增加时，我们应该让用户在无感知状态下完成资源的增加，这样就需要大量的虚拟机资源，每次增加虚拟机我们都要初始化应用程序运行环境，而这一动作是非常复杂且繁重的，对于专业的运维人员来说也是非常困难的，需要专业的技能与技巧才能完成初始化配置，如果有一种技术，即使通过虚拟机增加计算资源需求，现实服务器扩容，也能非常轻松的搞定应用程序运行环境，甚至能够让应用程序在秒级启动，这就是容器技术。

#### 1.1.3 容器

<figure><img src="../../.gitbook/assets/image (42).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (43).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (44).png" alt=""><figcaption></figcaption></figure>

从1979年在UNIX系统中使用chroot到2008的LXC，再到2013年的Docker容器管理工具，人们一直在寻求高效使用物理机资源的方法，容器化技术可以让我们把应用程序及其运行环境一同打包，在任意Linux主机上运行，有了这项技术，可以不用再考虑应用程序使用的计算资源扩展时配置环境的问题了，大大提高了应用开发的交付效率。随着容器技术不断应用，容器管理的需求也越来越多，2014年由google开源了其使用已久的容器编排技术方案——Kubernetes。

#### 1.1.4 对于使用计算资源的终极希望

做为企业的经营者，对使用计算资源的终极希望是:当用户访问量大时，应用系统能够自动扩容资源抵御流量洪峰；当用户访问量小时，应用系统能够自动回收资源节约计算资源或把节约出的资源提供给其它高需求计算资源的应用，以实现计算资源自动调配。但是长期以来，这仅仅只是一种希望，并没有现成的技术解决方案，直到最近二三年，人们的这种希望才真正有了落地方案:Serverless。

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

### 1.2 软件后端架构演进过程

#### 1.2.1 单体服务架构

整个系统的所有功能单元整体部署到同一进程，既所有代码可以打包成一个或多个文件，进一步细分：简单单体模式、MVC模式、前后端分离模式、组件模式和类库模式等

#### 1.2.2 分布式服务架构

整个系统的功能单元分散到不同的进程，然后由多个进程共同提供不同的业务能力，主要分类有：面向服务的架构(SOA)、分布式服务架构（DSA）、微服务架构（MSA）

#### 1.2.3 微服务架构

最早出现于2011年，关键点：

* 由一些独立的服务共同组成应用系统
* 每个服务单独部署、独立运行在自己的进程中
* 每个服务都是独立的业务
* 分布式管理
* 遵循低耦合、高内聚的原则

下面我们提到的Serverless同样是一种微服务架构设计模式，由于其更小，所以我们也可以称之为超微服务。



\
